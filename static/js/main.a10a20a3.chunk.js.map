{"version":3,"sources":["Components/Button/Button.module.css","Components/Modal/Modal.module.css","App.module.css","Components/ImageGallery/ImageGallery.module.css","Components/Loader/Loader.module.css","Components/Searchbar/Searchbar.js","Components/Loader/Loader.js","Components/ImageGalleryItem/ImageGalleryItem.js","Components/Api/Api.js","Components/Button/Button.js","Components/ImageGallery/ImageGallery.js","img/404_error.jpg","Components/Modal/Modal.js","App.js","reportWebVitals.js","index.js","Components/Searchbar/Searchbar.module.css","Components/ImageGalleryItem/ImageGalleryItem.module.css"],"names":["module","exports","Searchbar","state","value","onSubmit","e","preventDefault","props","inputValue","setState","target","className","s","SearchForm","this","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","onChange","Component","Loaders","loader","color","height","width","ImageGalleryItem","gallery","error","status","prevProps","prevState","thisPage","onFetch","numberPage","resPage","fetch","then","r","json","Api","visible","hits","length","window","scrollTo","top","document","documentElement","scrollHeight","behavior","catch","map","src","webformatURL","data-src","largeImageURL","alt","ImageGalleryItemImage","onClick","id","Button","loadMore","pageNumber","ButtonDiv","ImageGallery","page","Modal","modal","addEventListener","code","removeEventListener","Overlay","defaultProps","img","App","search","datasrc","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.a10a20a3.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__I4DVy\",\"ButtonDiv\":\"Button_ButtonDiv__1kiZJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2nYOu\",\"Modal\":\"Modal_Modal__24rUg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__1VQAq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__2nTi0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__1qqPp\"};","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport s from './Searchbar.module.css';\n\nexport default class Searchbar extends Component {\n  static propTypes = {\n    onSubmit: PropTypes.func,\n  };\n  state = {\n    value: '',\n  };\n\n  onSubmit = e => {\n    e.preventDefault();\n    this.props.onSubmit(this.state.value);\n  };\n\n  inputValue = e => {\n    return this.setState({ value: e.target.value });\n  };\n\n  render() {\n    return (\n      <header className={s.Searchbar}>\n        <form className={s.SearchForm} onSubmit={this.onSubmit}>\n          <button type=\"submit\" className={s.SearchFormButton}>\n            <span className={s.SearchFormButtonLabel}>Search</span>\n          </button>\n\n          <input\n            className={s.SearchFormInput}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            onChange={this.inputValue}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n","import { Component } from 'react';\nimport Loader from 'react-loader-spinner';\nimport s from './Loader.module.css';\n\nexport default class Loaders extends Component {\n  //other logic\n  render() {\n    return (\n      <Loader\n        className={s.loader}\n        type=\"Watch\"\n        color=\"#00BFFF\"\n        height={100}\n        width={100}\n        // timeout={3000} //3 secs\n      />\n    );\n  }\n}\n","import { Component } from 'react';\nimport s from './ImageGalleryItem.module.css';\nimport Loaders from '../Loader/Loader';\nimport Api from '../Api/Api';\nimport PropTypes from 'prop-types';\n\nexport default class ImageGalleryItem extends Component {\n  static propTypes = {\n    visible: PropTypes.func.isRequired,\n    resPage: PropTypes.func.isRequired,\n    largeImageURL: PropTypes.func.isRequired,\n    numberPage: PropTypes.number.isRequired,\n    onFetch: PropTypes.string,\n  };\n\n  state = {\n    gallery: [],\n    error: null,\n    status: 'idle',\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    let thisPage = 1;\n    \n    if (\n      prevProps.onFetch !== this.props.onFetch ||\n      prevProps.numberPage !== this.props.numberPage\n      ) {\n      if (\n        prevProps.onFetch === this.props.onFetch &&\n        prevProps.numberPage < this.props.numberPage\n      ) {\n        thisPage = this.props.numberPage;\n      }\n  \n      if (this.props.onFetch === '' && prevState.status !== this.state.status) {\n        this.setState({ status: 'idle' });\n      }\n     \n      if (\n        prevProps.onFetch !== this.props.onFetch &&\n        this.props.numberPage === prevProps.numberPage\n        ) {\n          this.setState({ gallery: [] });\n          this.props.resPage(true);   \n          }\n      \n      \n          Api(this.props.onFetch, thisPage)\n          .then(e => {\n\n\n        if (\n          prevProps.onFetch !== this.props.onFetch \n          &&\n          this.props.numberPage === 1\n          ) {           \n            this.props.visible(false);            \n            if (e.hits.length === 0) {   \n              this.props.visible(true);         \n              return this.setState({ status: 'rejected' });\n            }\n            this.setState({ gallery: e.hits });\n          }\n\n\n          if (\n            prevProps.onFetch === this.props.onFetch &&\n            prevProps.numberPage < this.props.numberPage\n            ) {\n                const { gallery } = this.state;\n                this.setState({ gallery: [...gallery, ...e.hits] });\n                window.scrollTo({\n                  top: document.documentElement.scrollHeight,\n                  behavior: 'smooth',\n                });\n                if (e.hits.length === 0) {\n                  this.props.visible(true);}             \n          }\n          \n          if (e.hits.length > 0) {\n            this.setState({ status: 'resolve' });\n          }\n        })\n        .catch(() => this.setState({ status: 'rejected' }));\n    }\n   \n  }\n\n\n\n  \n  render() {\n    const { status, gallery } = this.state;\n\n    if (status === 'idle') {\n      return (\n        <li>\n          <h1>Введите запрос</h1>\n        </li>\n      );\n    }\n\n    if (status === 'rejected') {\n      return (\n        <li>\n          <h1>Запрос не найден</h1>\n        </li>\n      );\n    }\n    if (status === 'pending') {\n      return (\n        <li>\n          <Loaders />\n        </li>\n      );\n    }\n\n    if (status === 'resolve') {\n      return gallery.map(e => (\n        <li key={e.id} className={s.ImageGalleryItem}>\n          <img\n            src={e.webformatURL}\n            data-src={e.largeImageURL}\n            alt=\"img\"\n            className={s.ImageGalleryItemImage}\n            onClick={() => this.props.largeImageURL(e.largeImageURL)}\n          />\n        </li>\n      ));\n    }\n  }\n}\n","// import React from 'react'\n\nexport default function Api(onFetch, thisPage) {\n  const KEY = '19060894-87e054058a337546d07970d77';\n  return fetch(\n    `https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=${onFetch}&page=${thisPage}&per_page=12&key=${KEY}`,\n  ).then(r => r.json());\n}\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport s from './Button.module.css';\n\nexport default class Button extends Component {\n  static propTypes = {\n    pageNumber: PropTypes.func.isRequired,\n  };\n\n  loadMore = () => {\n    this.props.pageNumber();\n  };\n\n  render() {\n    return (\n      <div className={s.ButtonDiv}>\n        <button className={s.Button} onClick={this.loadMore}>\n          Load more\n        </button>\n      </div>\n    );\n  }\n}\n","import s from './ImageGallery.module.css';\r\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\r\nimport Button from '../Button/Button';\r\nimport { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nclass ImageGallery extends Component {\r\n  static propTypes = {\r\n    onFetch: PropTypes.string,\r\n    src: PropTypes.func,\r\n  };\r\n\r\n  state = {\r\n    visible: false,\r\n    page: 1,\r\n  };\r\n\r\n  largeImageURL = e => {\r\n    this.props.src(e);\r\n  };\r\n\r\n  visible = length => {\r\n    if (length) {\r\n      if (this.state.visible) {\r\n        this.setState({ visible: false });\r\n      }\r\n    }\r\n    if (!length) {\r\n      this.setState({ visible: true });\r\n    }\r\n  };\r\n\r\n  pageNumber = e => {\r\n    const { page } = this.state;\r\n    this.setState({\r\n      page: page + 1,\r\n    });\r\n  };\r\n\r\n  resPage = e => {\r\n    if (e) {\r\n      this.setState({ page: 1 });\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <ul className={s.ImageGallery}>\r\n          <ImageGalleryItem\r\n            onFetch={this.props.onFetch}\r\n            largeImageURL={this.largeImageURL}\r\n            visible={this.visible}\r\n            numberPage={this.state.page}\r\n            resPage={this.resPage}\r\n          />\r\n        </ul>\r\n        {this.state.visible && <Button pageNumber={this.pageNumber} />}\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default ImageGallery;\r\n","export default __webpack_public_path__ + \"static/media/404_error.a378b0df.jpg\";","import { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport s from './Modal.module.css';\nimport img from '../../img/404_error.jpg';\n\nexport default class Modal extends Component {\n  static defaultProps = {\n    src: img,\n  };\n\n  static propTypes = {\n    src: PropTypes.string,\n  };\n\n  state = {\n    modal: false,\n  };\n\n  componentDidMount() {\n    if (this.props.src !== '') {\n      this.setState({ modal: true });\n    }\n    window.addEventListener('keydown', e => {\n      if (e.code === 'Escape') {\n        this.setState({ modal: false });\n      }\n    });\n    window.addEventListener('click', e => {\n      if (e.target.alt !== 'img') {\n        this.setState({ modal: false });\n      }\n      if (e.target.alt === 'img') {\n        this.setState({ modal: true });\n      }\n    });\n  }\n  componentDidUpdate(prevProps, prevState) {\n    window.removeEventListener('keydown', e => {\n      if (e.target.alt !== 'img') {\n        this.setState({ modal: false });\n      }\n      if (e.target.alt === 'img') {\n        this.setState({ modal: true });\n      }\n    });\n  }\n\n  render() {\n    return (\n      this.state.modal && (\n        <div className={s.Overlay}>\n          <div className={s.Modal}>\n            <img src={this.props.src} alt=\"img\" />\n          </div>\n        </div>\n      )\n    );\n  }\n}\n","import { Component } from 'react';\nimport s from './App.module.css';\nimport Searchbar from './Components/Searchbar/Searchbar';\nimport ImageGallery from './Components/ImageGallery/ImageGallery';\nimport Modal from '../src/Components/Modal/Modal';\n\nclass App extends Component {\n  state = {\n    search: '',\n    datasrc: '',\n  };\n\n  onSubmit = e => {\n    return this.setState({ search: e });\n  };\n\n  largeImageURL = e => {\n    this.setState({ datasrc: e });\n  };\n\n  render() {\n    return (\n      <div className={s.App}>\n        <Modal src={this.state.datasrc} />\n        <Searchbar onSubmit={this.onSubmit} />\n        <ImageGallery onFetch={this.state.search} src={this.largeImageURL} />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__2qtg4\",\"SearchForm\":\"Searchbar_SearchForm__2AYTE\",\"SearchFormButton\":\"Searchbar_SearchFormButton__3XMrJ\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__1V3Rr\",\"SearchFormInput\":\"Searchbar_SearchFormInput__3X2mZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__1WXVK\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__1xcsY\"};"],"sourceRoot":""}